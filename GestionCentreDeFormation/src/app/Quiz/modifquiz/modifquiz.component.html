<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
        rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.0/umd/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>

<body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="index.html">Centre de Formation</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto py-4 py-lg-0">

                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="afficherFormations">Menu
                            Formations</a></li>
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="afficherQuiz">Menu
                                Quiz</a></li>

                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header-->
    <header class="masthead"
        style="background-image: url('https://us.123rf.com/450wm/beholdereye/beholdereye1601/beholdereye160100098/50711421-retour-au-fond-de-l-%C3%A9cole-10-fichier-vectoriel-eps-inclus.jpg?ver=6')">
        <div class="container position-relative px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-8 col-lg-8 col-xl-7">
                    <div class="site-heading">
                        <h1>Quiz </h1>

                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content-->
    <!-- Main Content-->
    <!-- Main Content-->
    <!-- Main Content-->
    <!-- Main Content-->
    <!-- Main Content-->


    <div class="container-fluid">

        <div class="col-xl-12 col-md-6 mb-4">

            <div class="card shadow mb-4 border-top-primary">
                <div class="text-center">

                    <div class="col-xl-12 col-md-6 mb-4 card-header py-3 ">
                        <div class="row">
                            <div class="col-xl-4">
                                <h3 style="text-align: left ;">Quiz numéro: {{quiz.idQuiz}} </h3> 
                               Pourcentage de réussite  <input class="input3" type="number" name="pourcentage" [(ngModel)]="quiz.pourcentage"
                                    min="0" max="100" />
                            </div>
                            <div class="col-xl-4">
                            </div>
                            <div class="col-xl-4">
                               <br>
                               <input class="input3" id="idq" type="number" name="ajout" min="1" />
                                <button class="accordion-button4" (click)="ajouterq()">
                                    Ajouter question
                                </button>
                                <button class="accordion-button5"
                                (click)="SaveQuiz()">modifier Quiz</button>
                            </div>


                        </div>
                    </div>

                    <div *ngFor="let q of quiz.questions">
                        <mat-accordion>
                            <mat-expansion-panel hideToggle>
                                <mat-expansion-panel-header class="card-header py-3 justify-content-between">
                                    <div class="col-xl-12">
                                        <div class="row">
                                            <div class="col-xl-6 ">
                                                <mat-panel-title>
                                                    <h5>Question</h5>
                                                    <br>
                                                </mat-panel-title>
                                                <mat-panel-description>
                                                    <h6>Nombre de bonne reponse:  {{q.nbBonnesReponses}}</h6> <h6> </h6>

                                                </mat-panel-description>
                                                <input class="input2" type="text" name="question"
                                                [(ngModel)]="q.question" />
                                                <mat-panel-title>
                                                    <h6>Explication</h6>
                                                    <br>
                                                </mat-panel-title>
                                            <input class="input2" type="text" name="explication"
                                            [(ngModel)]="q.explication" />
                                            </div>
                                            <div class="col-xl-6 col-md-6 mb-4" style="text-align: right ;">
                                                <br>
                                
                                                    <input class="input3" id="q{{q.idQuestion}}" type="number" name="ajout" min="1" />
                                                    <button class="accordion-button4" (click)="ajouterr(q.idQuestion)">
                                                        Ajouter reponse
                                                    </button>
                                                    <button class="accordion-button5"
                                                    (click)="SaveQuestion(q.idQuestion)">modifier</button>
                                                    <button class="accordion-button6"
                                                        (click)="supprimerq(q.idQuestion)">supprimer</button>
                                        
                                            </div>
                                        </div>
                                    </div>
                                </mat-expansion-panel-header>

                                <table width="100%">
                                    <thead>
                                        <tr>
                                            <th>Reponse</th>
                                            <th>Vrai/Faux</th>
                                        </tr>
                                        <td></td>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let r of q.reponses">
                                            <td>
                                                <input type="text" name="pourcentage" [(ngModel)]="r.reponse" />
                                            </td>
                                            <td> <input type="checkbox" id="{{r.idReponse}}" name="vrai" [checked]="r.vrai" >  
                                            </td>
                                            <td>
                                                <button class="accordion-button5"
                                                (click)="SaveReponse    (r.idReponse)">Modifer</button>
                                                <button class="accordion-button7"
                                                    (click)="supprimerr(r.idReponse)">supprimer</button>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </mat-expansion-panel>
                        </mat-accordion>






                    </div>
















                </div>
            </div>
        </div>


















    </div>
</body>

</html>